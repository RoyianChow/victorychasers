
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tournament Details</title>
  <style>
    main {
      display: flex;
      flex-direction: row;
    }
    
    .tournament-info {
      display: flex;
      flex-direction: column;
      padding: 10px;
    }

    .round {
      display: flex;
      flex-direction: column;
      justify-content: center;
      width: 200px;
      list-style: none;
      padding: 0;
    }
    
    .round .spacer { flex-grow: 1; }
    .round .spacer:first-child,
    .round .spacer:last-child { flex-grow: .5; }

    .round .game-spacer {
      flex-grow: 1;
    }

    body {
      font-family: sans-serif;
      font-size: small;
      padding: 10px;
      line-height: 1.4em;
    }

    li.game {
      padding-left: 20px;
    }

    li.game.winner {
      font-weight: bold;
    }
    li.game span {
      float: right;
      margin-right: 5px;
    }

    li.game-top { border-bottom: 1px solid #aaa; }

    li.game-spacer { 
      border-right: 1px solid #aaa;
      min-height: 40px;
    }

    li.game-bottom { 
      border-top: 1px solid #aaa;
    }
  </style>
</head>
<body>
  <main>
    <div class="tournament-info">
      <h1>Tournament Details</h1>
      <h2><%= tournament.name %></h2>
      <p><strong>Game:</strong> <%= tournament.game %></p>
      <p><strong>Organizer:</strong> <%= tournament.organizer %></p>
      <p><strong>Start Date:</strong> <%= tournament.start_date %></p>
      <p><strong>End Date:</strong> <%= tournament.end_date %></p>
      <p><strong>Max Players:</strong> <%= tournament.max_players %></p>
      <p><strong>Description:</strong> <%= tournament.description %></p>
      <a href="/tournaments/list">Back to tournament list</a>
      <!-- Add the Join button -->
      <a href="/tournaments/player/<%= id %>" class="btn btn-primary mb-3" role="button" id="btnJoin">
        <i class="fas fa-plus-circle"></i> Join!</a>

      

          <!-- Repeatable Template Row -->
          
    
<br>
<br>
      <a class="btn btn-success">
        <i class="fas fa-user-plus"></i> Add win or loss
      </a>
     

   
    </div>
    <div id="tournament">
      <!-- Tournament bracket code -->
      <h1><strong> <%= tournament.game %></strong></h1>
<main id="tournament">
  <ul class="round round-1">
    <li class="spacer">&nbsp;</li>
    <% let teamIndex = 0; %>
    
    
    <li class="spacer">&nbsp;</li>
      
 
    <li class="game game-top winner" id="team<%= teamIndex %>">  <%- players[teamIndex] ? players[teamIndex].teamName : 'Empty' %><span id="t<%= teamIndex %>">00</span>

    <li class="game game-spacer">&nbsp;</li>
    <li class="game game-spacer">A &nbsp; </li>
    <li class="game game-bottom winner" id="team<%= teamIndex %>">  <%- players[teamIndex] ? players[teamIndex].teamName : 'Empty' %><span id="t<%= teamIndex %>">00</span>

    <li class="spacer">&nbsp;</li>
    <li class="game game-top winner" id="team<%= teamIndex %>">  <%- players[teamIndex] ? players[teamIndex].teamName : 'Empty' %><span id="t<%= teamIndex %>">00</span>

    <li class="game game-spacer">&nbsp;</li>
    <li class="game game-spacer">B &nbsp;</li>
    <li class="game game-bottom winner" id="team<%= teamIndex %>">  <%- players[teamIndex] ? players[teamIndex].teamName : 'Empty' %><span id="t<%= teamIndex %>">00</span>

    <li class="spacer">&nbsp;</li>
    <li class="game game-top winner" id="team<%= teamIndex %>">  <%- players[teamIndex] ? players[teamIndex].teamName : 'Empty' %><span id="t<%= teamIndex %>">00</span>

    <li class="game game-spacer">&nbsp;</li>
    <li class="game game-spacer">C &nbsp;</li>
    <li class="game game-bottom winner" id="team<%= teamIndex %>">  <%- players[teamIndex] ? players[teamIndex].teamName : 'Empty' %><span id="t<%= teamIndex %>">00</span>

    <li class="spacer">&nbsp;</li>
    <li class="game game-top winner" id="team<%= teamIndex %>">  <%- players[teamIndex] ? players[teamIndex].teamName : 'Empty' %><span id="t<%= teamIndex %>">00</span>

    <li class="game game-spacer">&nbsp;</li>
    <li class="game game-spacer">D &nbsp;</li>
    <li class="game game-bottom winner" id="team<%= teamIndex %>">  <%- players[teamIndex] ? players[teamIndex].teamName : 'Empty' %><span id="t<%= teamIndex %>">00</span>

    <li class="spacer">&nbsp;</li>
  </ul>
  <ul class="round round-2">

    <li class="spacer">&nbsp;</li>
    
    <li class="game game-top winner">Empty<span id="t1">00</span></li>
    <li class="game game-spacer">&nbsp;</li>
    <li class="game game-spacer">E &nbsp;</li>
    <li class="game game-bottom winner">Empty<span id="t1">00</span></li>

    <li class="spacer">&nbsp;</li>
    
    <li class="game game-top winner">Empty<span id="t1">00</span></li>
    <li class="game game-spacer">&nbsp;</li>    
    <li class="game game-spacer">F &nbsp;</li>
    <li class="game game-bottom winner">Empty<span id="t1">00</span></li>

    <li class="spacer">&nbsp;</li>
    
   
  </ul>
  <ul class="round round-3">
    <li class="spacer">&nbsp;</li>
    
    <li class="game game-top winner">Empty<span id="t1">00</span></li>
    <li class="game game-spacer">&nbsp;</li>
    <li class="game game-spacer">G &nbsp;</li>
    <li class="game game-bottom winner">Empty<span id="t1">00</span></li>

    <li class="spacer">&nbsp;</li>
  </ul>
  <ul class="round round-3">
    <li class="spacer">&nbsp;</li>

    <li class="game game-top winner">Lousville <span>85</span></li>

    <li class="spacer">&nbsp;</li>
  </ul>   
</main>
    </div>
  </main>
</body>
</html>
<script>
  window.addEventListener('DOMContentLoaded', (event) => {
    let players = <%- JSON.stringify(players) %>;
    for (let i = 0; i < players.length && i < 8; i++) {
        let teamElement = document.getElementById('team' + (i + 1));
        if (teamElement) {
            teamElement.innerHTML = players[i].team_name;
        }
    }
});
</script>